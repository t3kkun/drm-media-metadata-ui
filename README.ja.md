# drm-media-metadata-ui

ローカルに保存された暗号化メディアファイルのための、
DRMを尊重したメタデータビューアです。

本プロジェクトは、DRM保護の仕組みを変更・解除することなく、
オフライン再生コンテンツの閲覧体験を向上させることを目的としています。

---

## 概要

一部の公式オフラインプレイヤーでは、暗号化形式が採用されているため、
ファイルシステム上ではサムネイルやタイトルなどの情報を確認できない場合があります。

本ツールは、

- ローカルに保存された暗号化ファイル名からコンテンツIDを抽出し
- 公開されている静的サムネイルURLの規則を利用して画像を生成し
- 必要に応じて公開情報からメタデータを補完し
- Flet製の軽量UIで一覧表示する

ことで、視認性と管理性を改善します。

再生は常に公式プレイヤーに委ねられ、ファイル関連付けを通じて起動されます。

---

## このプロジェクトが行うこと

- 暗号化ファイル名からコンテンツIDを抽出
- 既知の公開パターンに基づくサムネイルURL生成
- 公開情報を用いたメタデータ補完（任意）
- CSV形式でのメタデータデータベース構築
- FletによるローカルUI表示
- 公式プレイヤーの起動

---

## このプロジェクトが行わないこと

- ❌ コンテンツの復号
- ❌ DRMの回避
- ❌ 非公開APIへのアクセス
- ❌ 認証Cookieの利用
- ❌ メディアのダウンロード

本ツールは、ローカルに保存された暗号化ファイルのみを対象とします。

---

## アーキテクチャ

暗号化ファイル  
→ ID抽出  
→ サムネイルURL生成  
→ メタデータCSV  
→ Flet UI  
→ 公式プレイヤー

---

## インストール

```bash
uv sync
```

---

## 使い方
1. 暗号化されたメディアファイルを /contents/ ディレクトリに配置します。
2. メタデータを生成します。
```bash
uv run generate_db.py
```
3. UIを起動します。
```bash
uv run ui.py
```
4. サムネイルをクリックすると、公式プレイヤーで再生されます。

---

## 参考情報
設計背景や開発経緯の詳細は、以下の記事にまとめています。
```
🔗 https://note.com/t3kkun/n/n486fc8022df2
```

---

## 免責事項
本プロジェクトは非公式の個人ツールです。
いかなるメディアサービス提供者とも関係はありません。

本ツールはDRMの解除・改変・回避を行いません。
再生は常に公式プレイヤーを通じて行われます。

利用にあたっては、各サービスの利用規約および関連法令を遵守してください。
